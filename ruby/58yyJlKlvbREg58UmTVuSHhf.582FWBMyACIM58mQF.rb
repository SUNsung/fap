
        
                private
    
        def scaling dst, ratio
      if ratio.horizontal? || ratio.square?
        [ '%dx' % dst.width, ratio.width ]
      else
        [ 'x%d' % dst.height, ratio.height ]
      end
    end
    
        def define
      define_flush_errors
      define_getters
      define_setter
      define_query
      register_new_attachment
      add_active_record_callbacks
      add_paperclip_callbacks
      add_required_validations
    end
    
            def matches? subject
          @subject = subject
          @subject = @subject.new if @subject.class == Class
          lower_than_low? && higher_than_low? && lower_than_high? && higher_than_high?
        end
    
          def drop_attached_file(*args)
        ActiveSupport::Deprecation.warn 'Method `drop_attached_file` in the migration has been deprecated and will be replaced by `remove_attachment`.'
        remove_attachment(*args)
      end
    end
    
        module ClassMethods
      # This method is a shortcut to validator classes that is in
      # 'Attachment...Validator' format. It is almost the same thing as the
      # +validates+ method that shipped with Rails, but this is customized to
      # be using with attachment validators. This is helpful when you're using
      # multiple attachment validators on a single attachment.
      #
      # Example of using the validator:
      #
      #   validates_attachment :avatar, :presence => true,
      #      :content_type => { :content_type => 'image/jpg' },
      #      :size => { :in => 0..10.kilobytes }
      #
      def validates_attachment(*attributes)
        options = attributes.extract_options!.dup